CREATE TABLE Leiloes (
ID INTEGER NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
ID_USUARIO INTEGER NOT NULL,
NATUREZA VARCHAR(50) NOT NULL,
FORMA_LANCES VARCHAR(50) NOT NULL,
INICIO TIMESTAMP NOT NULL,
TERMINO TIMESTAMP NOT NULL,
VALOR DECIMAL(19, 4) NOT NULL
);
CREATE TABLE Categorias (
ID INTEGER NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
CATEGORIA VARCHAR(100) NOT NULL
);
CREATE TABLE Usuarios (
ID INTEGER NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
NOME VARCHAR(100) NOT NULL,
CP VARCHAR(14) NOT NULL,
EMAIL VARCHAR(100) NOT NULL,
SENHA VARCHAR(50) NOT NULL
);
CREATE TABLE Bens (
ID INTEGER NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
ID_LOTE INTEGER NOT NULL,
ID_CATEGORIA INTEGER NOT NULL,
DESCRICAO_SIMPLES VARCHAR(100),
DESCRICAO_COMPLETA VARCHAR(2000)
);
CREATE TABLE Lotes (
ID INTEGER NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
ID_LEILAO INTEGER NOT NULL
);
CREATE TABLE Lances (
ID INTEGER NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
ID_USUARIO INTEGER NOT NULL,
ID_LOTE INTEGER NOT NULL,
DATA TIMESTAMP NOT NULL,
VALOR DECIMAL(19, 4) NOT NULL,
ATIVO BOOLEAN NOT NULL
);
ALTER TABLE Leiloes
ADD FOREIGN KEY (ID_USUARIO)
REFERENCES Usuarios(ID);
ALTER TABLE Lotes
ADD FOREIGN KEY (ID_LEILAO)
REFERENCES Leiloes(ID);
ALTER TABLE Lances
ADD FOREIGN KEY (ID_USUARIO)
REFERENCES Usuarios(ID);
ALTER TABLE Lances
ADD FOREIGN KEY (ID_LOTE)
REFERENCES Lotes(ID);
ALTER TABLE Bens
ADD FOREIGN KEY (ID_LOTE)
REFERENCES Lotes(ID);
ALTER TABLE Bens
ADD FOREIGN KEY (ID_CATEGORIA)
REFERENCES Categorias(ID);
INSERT INTO Usuarios (NOME, CP, EMAIL, SENHA) 
VALUES ('Felipe Castro', '11111111111', 'fpocastro@gmail.com', '12345');
INSERT INTO Usuarios (NOME, CP, EMAIL, SENHA) 
VALUES ('Hildor Junior', '22222222222', 'hildor.faber@acad.pucrs.br', '12345');
INSERT INTO Usuarios (NOME, CP, EMAIL, SENHA) 
VALUES ('John Doe', '33333333333', 'johndoe@gmail.com', '12345');
INSERT INTO Usuarios (NOME, CP, EMAIL, SENHA) 
VALUES ('Thiago Pellegrin', '44444444444', 'tgpellegrin@gmail.com', '12345');
INSERT INTO Usuarios (NOME, CP, EMAIL, SENHA) 
VALUES ('Joao Pereira', '55555555555', 'joaopereira@gmail.com', '12345');
INSERT INTO Leiloes (ID_USUARIO, NATUREZA, FORMA_LANCES, INICIO, TERMINO, VALOR)
VALUES (1, 'Demanda', 'Aberto', TIMESTAMP('2017-07-02 00:00:00.000'), TIMESTAMP('2017-07-04 00:00:00.000'), 1000.0);
INSERT INTO Lotes (ID_LEILAO) VALUES (1);
INSERT INTO Lotes (ID_LEILAO) VALUES (1);
INSERT INTO Categorias (CATEGORIA) VALUES ('eletronicos');
INSERT INTO Categorias (CATEGORIA) VALUES ('moveis');
INSERT INTO Categorias (CATEGORIA) VALUES ('brinquedos');
INSERT INTO Categorias (CATEGORIA) VALUES ('outros');
INSERT INTO Bens (ID_LOTE, ID_CATEGORIA, DESCRICAO_SIMPLES, DESCRICAO_COMPLETA)
VALUES (1, 1, 'Laptop', 'Um laptop muito rapido para seu dia a dia');
INSERT INTO Bens (ID_LOTE, ID_CATEGORIA, DESCRICAO_SIMPLES, DESCRICAO_COMPLETA)
VALUES (1, 1, 'Iphone 7', 'Moderno e luxuoso');
INSERT INTO Bens (ID_LOTE, ID_CATEGORIA, DESCRICAO_SIMPLES, DESCRICAO_COMPLETA)
VALUES (1, 2, 'Sofa vermelho', 'Sofa usado e restaurado em couro vermelho');
INSERT INTO Bens (ID_LOTE, ID_CATEGORIA, DESCRICAO_SIMPLES, DESCRICAO_COMPLETA)
VALUES (1, 3, 'Carrinho Hot Wheels', 'Para a diversão do seu filho');
INSERT INTO Bens (ID_LOTE, ID_CATEGORIA, DESCRICAO_SIMPLES, DESCRICAO_COMPLETA)
VALUES (1, 1, 'Processador I7', 'I7 7500U ideal para tarefas que exigem muito processamento');
INSERT INTO Bens (ID_LOTE, ID_CATEGORIA, DESCRICAO_SIMPLES, DESCRICAO_COMPLETA)
VALUES (2, 4, 'Chinelo Raider', 'Qualidade comprovada e conforto');
INSERT INTO Bens (ID_LOTE, ID_CATEGORIA, DESCRICAO_SIMPLES, DESCRICAO_COMPLETA)
VALUES (2, 1, 'Nokia 3310', 'Mais resistente que aço');
INSERT INTO Bens (ID_LOTE, ID_CATEGORIA, DESCRICAO_SIMPLES, DESCRICAO_COMPLETA)
VALUES (2, 2, 'Cadeira de praia usada', 'Levemente inferrujada com dois niveis de inclicação');
INSERT INTO Bens (ID_LOTE, ID_CATEGORIA, DESCRICAO_SIMPLES, DESCRICAO_COMPLETA)
VALUES (2, 3, 'Mr. Potato', 'Está faltando o nariz');
INSERT INTO Bens (ID_LOTE, ID_CATEGORIA, DESCRICAO_SIMPLES, DESCRICAO_COMPLETA)
VALUES (2, 3, 'Forte Apache', 'Reviva os velhos tempos da sua infância');
INSERT INTO LANCES (ID_USUARIO, ID_LOTE, DATA, VALOR, ATIVO)
VALUES (2, 1, TIMESTAMP('2017-07-02 12:32:11.000'), 1100.0, true);
INSERT INTO LANCES (ID_USUARIO, ID_LOTE, DATA, VALOR, ATIVO)
VALUES (3, 1, TIMESTAMP('2017-07-02 12:32:11.000'), 1200.0, true);
INSERT INTO LANCES (ID_USUARIO, ID_LOTE, DATA, VALOR, ATIVO)
VALUES (4, 1, TIMESTAMP('2017-07-02 14:10:23.000'), 2500.0, true);
INSERT INTO LANCES (ID_USUARIO, ID_LOTE, DATA, VALOR, ATIVO)
VALUES (4, 2, TIMESTAMP('2017-07-02 15:10:33.000'), 5200.0, true);
INSERT INTO LANCES (ID_USUARIO, ID_LOTE, DATA, VALOR, ATIVO)
VALUES (5, 2, TIMESTAMP('2017-07-02 16:10:10.000'), 1050.0, true);
INSERT INTO Leiloes (ID_USUARIO, NATUREZA, FORMA_LANCES, INICIO, TERMINO, VALOR)
VALUES (1, 'Demanda', 'Fechado', TIMESTAMP('2017-07-01 00:00:00.000'), TIMESTAMP('2017-07-03 00:00:00.000'), 2000.0);
INSERT INTO Lotes (ID_LEILAO) VALUES (2);
INSERT INTO Bens (ID_LOTE, ID_CATEGORIA, DESCRICAO_SIMPLES, DESCRICAO_COMPLETA)
VALUES (3, 1, 'Mouse Razer', 'Um mouse ideal para jogos');
INSERT INTO Bens (ID_LOTE, ID_CATEGORIA, DESCRICAO_SIMPLES, DESCRICAO_COMPLETA)
VALUES (3, 1, 'Gabinete Grande', 'Um gabinete com espaço para peças grandes');
INSERT INTO Bens (ID_LOTE, ID_CATEGORIA, DESCRICAO_SIMPLES, DESCRICAO_COMPLETA)
VALUES (3, 2, 'Cadeira rústica', 'Otima para uma mesa de jantar');
INSERT INTO Bens (ID_LOTE, ID_CATEGORIA, DESCRICAO_SIMPLES, DESCRICAO_COMPLETA)
VALUES (3, 3, 'Corneta feliz', 'Para trazer musica para sua casa');
INSERT INTO Bens (ID_LOTE, ID_CATEGORIA, DESCRICAO_SIMPLES, DESCRICAO_COMPLETA)
VALUES (3, 1, 'Teclado Usado', 'Sujo mas funcional');
INSERT INTO LANCES (ID_USUARIO, ID_LOTE, DATA, VALOR, ATIVO)
VALUES (4, 3, TIMESTAMP('2017-07-01 09:00:11.000'), 15000.0, true);
INSERT INTO LANCES (ID_USUARIO, ID_LOTE, DATA, VALOR, ATIVO)
VALUES (3, 3, TIMESTAMP('2017-07-01 10:40:20.000'), 3000.0, true);
INSERT INTO LANCES (ID_USUARIO, ID_LOTE, DATA, VALOR, ATIVO)
VALUES (2, 3, TIMESTAMP('2017-07-02 14:10:23.000'), 2750.0, true);
INSERT INTO LANCES (ID_USUARIO, ID_LOTE, DATA, VALOR, ATIVO)
VALUES (2, 3, TIMESTAMP('2017-07-01 15:50:20.000'), 3120.0, true);
INSERT INTO LANCES (ID_USUARIO, ID_LOTE, DATA, VALOR, ATIVO)
VALUES (3, 3, TIMESTAMP('2017-07-02 16:10:23.000'), 2200.0, true)